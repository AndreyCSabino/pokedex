<!DOCTYPE html>

<html lang="pt_br"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>Pokédex</title>
<link href="favico.png" rel="icon" type="image/x-icon">


<meta content="width=device-width, initial-scale=1, minimum-scale=1, user-scalable=yes" name="viewport">
<meta content="#E30C55" name="theme-color">
<meta content="pt_br" property="og:locale">
<meta content="article" property="og:type">
<meta content="Pokedex" property="og:title">


<style id="page-skin-1" type="text/css">

@import url('https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Nunito+Sans:ital,wght@0,300;0,400;0,600;0,700;0,800;0,900;1,300;1,400;1,600;1,700;1,800;1,900&display=swap');

/*-- Material Icons Font --*/
@font-face{font-family:"Material Icons Round";font-display:swap;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/materialiconsround/v65/LDItaoyNOAY6Uewc665JcIzCKsKc_M9flwmP.woff2) format("woff2")}.mir{font-family:"Material Icons Round";font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:liga;-webkit-font-smoothing:antialiased}@font-face{font-family:"PBT Icons";font-display:block;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/materialiconsround/v65/LDItaoyNOAY6Uewc665JcIzCKsKc_M9flwmP.woff2) format("woff2")}

/*-- CSS Variables --*/
:root{
--body-font:'Montserrat', Arial, sans-serif;
--title-font:'Montserrat', Arial, sans-serif;
--text-font:'Nunito Sans', Arial, sans-serif;
--title-color:#373E59;
--body-bg-color:#f5f6f7;
--main-color:#E30C55;
--text-color:#000000;
--widget-bg:#ffffff;
--widget-title-color:#373E59;
--widget-dash-color:#E30C55;
--border-color:rgba(155,155,155,0.1);
--radius:2px;
--button-bg:#E30C55;
--button-color:#ffffff;
--button-hover-bg:#E30C55;
--button-hover-color:#ffffff;
--line:#e5e7eb;
}
html.is-dark{
--body-bg-color:#27272b;
--text-color:#ffff;
--widget-bg:#202024;
--widget-title-color:#f8f8fb;
--widget-dash-color:#E30C55;
--border-color:rgba(255,255,255,0.05);
}

/*-- Reset CSS --*/
html,body,a,abbr,acronym,address,applet,b,big,blockquote,caption,center,cite,code,dd,del,dfn,div,dl,dt,em,fieldset,font,form,input,button,h1,h2,h3,h4,h5,h6,i,iframe,img,ins,kbd,label,legend,li,object,p,pre,q,s,samp,small,span,strike,strong,sub,sup,table,tbody,td,tfoot,th,thead,tr,tt,u,ul,var{padding:0;margin:0;border:0;outline:none;vertical-align:baseline;background:0 0;text-decoration:none}
.center{display:table;margin:0 auto;position:relative}
button,input,select,textarea{background:transparent;font-family:var(--body-font);-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none;border-radius:0}
button{cursor:pointer}

/*-- Main CSS --*/
*{box-sizing:border-box}
html{position:relative;word-break:break-word;word-wrap:break-word;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-webkit-text-size-adjust:100%}
body{position:relative;background:var(--body-bg);background-color:var(--body-bg-color);font-family:var(--body-font);font-size:14px;color:var(--text-color);font-weight:400;font-style:normal;line-height:1.4em}
h1,h2,h3,h4,h5,h6{font-family:var(--title-font);font-weight:700}
a,input,button{transition:all .0s ease}
.row-x1{width:1400px;max-width:100%}
//.row-x1{width:1175px;max-width:100%}
.flex-c{display:flex;justify-content:center}
.flex-col{display:flex;flex-direction:column}
#content-wrapper{float:left;width:100%;overflow:hidden;padding:50px 0; min-height: 1000px;}
.title-wrap{display:flex;justify-content:space-between;height:30px; margin:10px 0 20px; border-bottom:2px solid var(--border-color)}
.title-wrap > .title{position:relative;height:30px;font-size:20px;color:var(--widget-title-color);font-weight:800;text-transform:uppercase;line-height:1;margin:0}
.title-wrap > .title:after{position:absolute;content:'';left:0;bottom:0;width:130px;height:3px;background-image:linear-gradient(90deg, #E30C55 10%, #8C82E2 80%);margin:0}
.rtl .title-wrap > .title:after{left:unset;right:0}
.title-wrap > .title-link{font-size:13px;color:var(--meta-color);line-height:1;font-weight:600}
.title-wrap > .title-link:hover{color:var(--main-color);font-weight:600}
.item-post-inner{background-color:var(--widget-bg);padding:20px;border-radius:var(--radius);box-shadow:var(--widget-shadow);}
#post-body{position:relative;float:left;width:100%;font-family:var(--text-font);font-size:16px;color:var(--text-color);line-height:1.6em;margin:25px 0 0}
.post-body p{margin-bottom:25px}
.post-body h1,.post-body h2,.post-body h3,.post-body h4,.post-body h5,.post-body h6{font-size:17px;color:var(--title-color);line-height:1.3em;margin:20px 0 13px}
.post-body h1{font-size:26px}
.post-body h2{font-size:23px}
.post-body h3{font-size:20px}
.post-body img{height:auto!important}
#back-top{display:flex;align-items:center;justify-content:center;position:fixed;bottom:20px;right:20px;width:34px;height:34px;background-color:var(--button-bg);font-size:24px;color:var(--button-color);z-index:50;opacity:0;visibility:hidden;transition:visibility .17s ease,opacity .17s ease}
.rtl #back-top{right:auto;left:20px}
#back-top:before{content:'\e5ce';font-family:'Material Icons Round';font-weight:400}
#back-top.show{opacity:1;visibility:visible}
#back-top:hover{background-color:var(--button-hover-bg);color:var(--button-hover-color)}
.nav-active #back-top{opacity:0!important}

/*//CÓDIGO DAS PÁGINAS DO MENU//*/
.is-page #post-body {margin:0px !important;}
.is-single.is-page .entry-header{display: none !important;}
.is-single.is-page .magspot-blog-post-comments.is-visible {display: none !important;}
.is-page .post-body .tcg-grid a{color:transparent !important;}

/* OUTLINE AO FOCO */
*:focus {outline: 3px solid var(--main-color);}
dialog:focus {outline: 0px solid gray;}
.btn:focus {outline: 0px solid gray;}

span.name-gen, span.number-poke { font-weight: bold;}
div.inner-menu{ text-align: center;text-transform: uppercase;font-size:15px;}
.inner-menu.i {margin-top: 40px;display: flex;line-height: 19px;justify-content: center;flex-wrap: wrap;}
.inner-menu.ii {margin-bottom:40px;display: flex;line-height: 19px;justify-content: center;flex-wrap: wrap;}
.is-page .post-body div.inner-menu a {white-space: nowrap;color: var(--text-color) !important;  padding: 5px 15px;  border-radius: 60px;  font-family: 'Montserrat';  font-weight: 600;  text-decoration: none;  margin: 3px 10px;}
.is-page .post-body div.inner-menu a:hover {background-color: var(--main-color); color: white !important; text-decoration: none;}

div.card { position:relative;	width: 195px;	height:250px; box-shadow: 0px 0px 25px -5px rgba(183, 189, 193, 0.4); border-radius: 12px; text-align: center; margin: 0px 5px 10px 5px; display: inline-block; vertical-align: middle; }

div.card:hover {box-shadow: 0px 0px 41px -10px rgba(183, 189, 193, 0.9);}
/* bottom: 2px; */
html.is-dark div.card {box-shadow: 0px 0px 25px -5px rgba(0, 0, 0, 0.6);}
html.is-dark div.card:hover {box-shadow: 0px 0px 41px -10px rgba(0, 0, 0, 0.9);}
div.card-inner {margin: 5px 5px 5px 5px; border: 0px solid purple; line-height: 1;}
div.card-inner:before {  content: "";  width: 110px;  height: 110px;  position: absolute; top: 20.3%; left: 22%; z-index: 0; -webkit-mask-image: url('https://raw.githubusercontent.com/lbns14/Projeto-Pokedex/main/pokeball.svg'); background-size: 100%; opacity:.3; background-color: gray; opacity: .2; } 
/* -webkit-mask-image: url('https://raw.githubusercontent.com/lbns14/Projeto-Pokedex/main/pokeball.svg') */

.num {border: 0px solid orange; font-weight:500; font-size:11px; line-height: 15px; color: var(--meta-color); white-space:nowrap;}
img.card-avatar{ width: 140px; position: relative; transition: all .2s ease-in-out; -webkit-transition: all .2s ease-in-out; -moz-transition: all .2s ease-in-out;}
.pagina{width:670px; display: inline-table;}
.paginaTitulo{font-weight: 600; margin:25px 0 13px;}

.topmenu{height:70px; display: flex; flex-wrap: wrap; justify-content: center; align-content: flex-end; font-size: 36px; font-weight: 600; font-family: var(--body-font);}

#toogleConfig.hidden {transition: 0.7s ease-out; overflow: hidden; height: 0;}
#toogleConfig.toggle {height: 150px;}

.menuConfig{padding: 20px; display: flex; position: relative; justify-content: space-around; border: 2px solid rgba(155, 155, 155, 0.1); border-top: 0; border-radius: 0 0 12px 12px;}
.configInterno{border: 0px solid blue; width: 40%; font-weight:600;}

.selectInterno{border: 0px solid; width: 100px; text-align: center;}
.labelInterno{margin-left:50px; font-size: 15px; font-weight:500;}
.buttonInterno{margin-left:50px; font-family:var(--text-font); font-size: 15px;}
.buttonInterno:hover{color: var(--main-color);}

.reservado{position: relative; top: 194px; line-height: 1;}
.topLeft{float:left; position:absolute; left:0;}
.topRight{float:right; position:absolute; right:0;}
.zoom{position: absolute; z-index: 98;	transform: translate(9%, -31.2%);}
.divTop{height: 31px; display: flex; flex-direction: column; justify-content: flex-start;}
.divMid{height: 31px; display: flex; flex-direction: column; justify-content: space-between;}
.divBot{position: absolute; bottom: 3px; left: 0px;	right: 0px; }
.labelA{border: 0px solid gold; height: 15px; width: 0px; white-space: nowrap; line-height: 0.5; letter-spacing: -2px; padding-top: 3px; padding-left: 2px; float: left;}
.inputA{border: 0px solid blue; min-width: 30px; field-sizing: content; font-size: 11px; float: left;}
.selectA{border:0px solid red; height:15px; min-width:60px; font-size:11px; letter-spacing:-.3px; text-align:right; float:right; opacity:1 !important; color:#000000 !important; field-sizing:content; }
.selectB{border:0px solid red; height:15px; min-width:30px; font-size:11px; letter-spacing:-.3px; text-align:right; float:right; opacity: 1 !important; color:#000000 !important; display: none; }
.butVar{border: 0px solid red; height: 21px; line-height: 0.3; font-family:'Montserrat'; font-size: 19px; font-weight: 500; position: absolute; left:0; bottom:22px; background:white; border-radius:3px;}
.butFechar{position: absolute; top: 5px; right: 7px; padding: 5px;}

/*.desabilitado {pointer-events: none; touch-action: none; tabindex:-1; }*/

.divVar{border: 0px solid rgba(183, 189, 193, 0.9); box-shadow: 0px 0px 41px -10px rgba(183, 189, 193, 0.9); border-radius: 10px; background-color: #ffffff; padding: 20px 20px 40px 20px; width: 100%; position: absolute; top: 450px; z-index: 99; display: none;}
img.variacao{width:155px; }
div.NovaVar{margin: 16px 5px 5px 5px; }
div.NovaVar:before{position: absolute; top: 29.5%; }
/*.varSel{position: relative; right: 15px;}
.varInp{position: relative; left: 15px;}*/

.imgMais{position:relative; top:25.1%; border-radius:12px; width:135px; display:inline; vertical-align:middle;}
.divMais:active{top:5px; }

.title.kanto:after {background-image: linear-gradient(90deg, #ED0303 10%, #3381F4 80%);width:100%;}
.title.johto:after {background-image: linear-gradient(90deg, #F3BD2D 10%, #9BA8AF 80%);width:100%;}
.title.hoenn:after {background-image: linear-gradient(90deg, #D0193C 10%, #093ddf 80%);width:100%;}
.title.sinnoh:after {background-image: linear-gradient(90deg, #5A9DDE 10%, #EB76DC 80%);width:100%;}
.title.unova:after {background-image: linear-gradient(90deg, #0D2536 10%, #DFDCDC 80%);width:100%;}
.title.kalos:after {background-image: linear-gradient(90deg, #11598D 10%, #AE2E3A 80%);width:100%;}
.title.alola:after {background-image: linear-gradient(90deg, #ff5100 10%, #7e3ada 80%);width:100%;}
.title.galar:after {background-image: linear-gradient(90deg, #08ADF8 10%, #EF0A64 80%);width:100%;}
.title.hisui:after {background-image: linear-gradient(90deg, #139896 10%, #2a3d51 80%);width:100%;}
.title.paldea:after {background-image: linear-gradient(90deg, #E90D0D 10%, #B018B8 80%);width:100%;}

@media screen and (max-width: 500px){
  .title {font-size: 20px; font-weight: 800;}
  div.card-inner {font-size:15px !important;}
  img.card-avatar {width:90px !important;}
  div.card-inner:before {width:90px;height:90px; vertical-align: middle; text-align: center;}
  div.card {width:45%}
  .inner-menu.i {flex-wrap: nowrap;overflow: auto;justify-content: flex-start;font-size: 14px !important;}
  .inner-menu.ii {flex-wrap: nowrap;overflow: auto;justify-content: flex-start;font-size: 14px !important;}
}

dialog{border:none; border-radius:16px; max-width:500px; width:96%; padding:0}
dialog .dialog-body{padding:16px}
dialog::backdrop{background:#0f172a80}
.dialog-head{display:flex; align-items:center; justify-content:space-between; padding:12px 16px}
.dialog-head h3{margin:0;font-size:16px}
.dialog-grid{display:grid; grid-template-columns:repeat(12,1fr); gap:10px}
.dialog-grid .field{grid-column:span 6}
.dialog-grid .field.wide{grid-column:span 12}

.btn{appearance:none; border:1px solid var(--line);background:#fff;color:var(--ink);padding:8px 12px;border-radius:10px;cursor:pointer;font-weight:600}
.btn:disabled{opacity:.6;cursor:not-allowed}
.btn.primary{background:var(--brand);color:#fff;border-color:#5b21b6}
.btn.ghost{background:transparent}
.btn.exit{background:transparent; border:0px}

.field{display:flex;flex-direction:column;gap:6px}
.field label{font-size:12px;color:var(--muted)}

</style>
</head>
<!-- 
onload="carregarPokedex()"
onload="gerar('3x3')"
onload="gerar('linha')"
 -->
<body class="is-single is-page" onload="carregarPokedex()">
	<div class="flex-c" id="content-wrapper">
	<div class="row-x1" style="transform: none;">
	
	<div class="blog-posts item-post-wrap flex-col">
	<div class="item-post-inner flex-col">
	<div class="post-body" id="post-body">
	
		<div class="topmenu" id="pokedex">Pokédex</div>
		<div class="topLeft">
			<!-- <button id="bDivFiltro" onclick="clickDivFiltro(); blur(); " type="button" style="padding:5px">Filtro</button>  -->
			<button id="bContador" onclick="clickContador()" type="button" style="padding:5px">Contador</button>
		</div>
		<div class="topRight">
			<!-- <button id="bEdicaoVisualizacao" onclick="clickEdicaoVisualizacao(); blur();" type="button" style="padding:5px">Edicao / Visualizacao</button> -->
			<button id="bConfig" onclick="clickConfig(); blur();" type="button" style="padding:5px; ">Config️</button>
		</div>
		<div class="title-wrap" style="margin: 0;"><h2/></div>
		
		
		<div id="toogleConfig" class="hidden">
			<div id="divConfig" class="menuConfig">
				<div class="configInterno">
					<i>Visualização</i>
					</br><label class="labelInterno">Disposição:<label style="color: Gainsboro">  .................................</label></label><select id="selDisposicao" class="selectInterno" onchange="changeDisposicao(this.value); blur();"><option value="3x3">3 x 3</option><option value="linha">Linha</option></select>
					</br><label class="labelInterno">Detalhamento:<label style="color: Gainsboro">   ..........................</label></label><select id="selDetalhamento" class="selectInterno" onchange="changeDetalhamento(this.value); blur();"><option value="completo">Completo</option><option value="minimo">Mínimo</option><option value="nenhum">Nenhum</option></select>
					</br><label class="labelInterno">Zoom:<label style="color: Gainsboro">   ...........................................</label></label><select id="selZoom" class="selectInterno" onchange="changeZoom(this.value); blur();"><option value="duplicar">Duplicar</option><option value="expandir">Expandir</option></select>
				</div>					
				<div class="configInterno">
					<i>Backup</i>
					</br>
					<!--  • localStorage <select id="selBackup" onchange="blur();" style="border: 0px solid;"><option value="localstorage">localStorage</option><option value="GitHub">GitHub</option></select> 
					
					pedir de onde importar: GitHub ou Área de Transferência -->
					<button id="bImportar" class="buttonInterno" onclick="clickDlgBackup('Importar'); blur();" type="button">Importar</button>
					</br>
					<button id="bExportar" class="buttonInterno" onclick="clickDlgBackup('Exportar'); blur();" type="button">Exportar</button>
				</div>
			</div>
		</div>
		
		
		<dialog id="dlgBackup">
			<div class="dialog-head">
				<h3 id="dlgTitle">Titulo</h3>
				<button class="btn exit" onclick="dlgBackup.close(); bImportar.blur(); bExportar.blur();">✕</button>
			</div>
			<div class="dialog-body">
				<div class="field wide" style="display:flex; justify-content:flex-end; gap:8px; margin-top:6px; margin-bottom:6px">
					<button class="btn ghost" id="btnImportarGitHub" onclick="clickImportarGitHub()">GitHub</button>
					<button class="btn ghost" id="btnImportarTxt" onclick="clickImportarJSON()">Arquivo JSON</button>
					<button class="btn ghost" id="btnExportarGitHub" onclick="clickExportarGitHub()">GitHub</button>
					<button class="btn ghost" id="btnExportarJSON" onclick="clickExportarJSON()">Arquivo JSON</button>
				</div>
			</div>
		</dialog>
		<input type="file" id="input-file" accept=".txt, .json" onchange="tratarInputFile(this)" hidden>

		<div class="inner-menu i">
			<a href="#kanto">Kanto</a>
			<a href="#johto">Johto</a>
			<a href="#hoenn">Hoenn</a>
			<a href="#sinnoh">Sinnoh</a>
			<a href="#unova">Unova</a>
			<a href="#kalos">Kalos</a>
			<a href="#alola">Alola</a>
			<a href="#galar">Galar</a>
			<a href="#hisui">Hisui</a>
			<a href="#paldea">Paldea</a>
		</div>
		<div class="inner-menu ii">
			<a href="#megaevolucao">Mega Evolução</a>
			<a href="#formasalola">Formas de Alola</a>
			<a href="#formasgalar">Formas de Galar</a>
			<a href="#gigamax">Formas Gigamax</a>
			<a href="#formashisui">Formas de Hisui</a>
			<a href="#formaspaldea">Formas de Paldea</a>
		</div>

		<div class="divVar" id="divVariacao" style="text-align: center;">      </div>

		<div class="geral" id="divGeral"></div>

	</div>
	</div>
	</div>
	</div>
	</div>

	<a class="btn show" href="#" id="back-top" role="button" title="Back To Top"></a>

<!-- Scripts -->
<script type="text/javascript">

var gContadorFolha = 0;
var gContadorPagina = 0;
var gCartasAdicionadas = 0;
var gQtdVariacoes = 0;
var gModoZoom = 'duplicar';
var gAlturaZoom = '-31.2%';
var gLarguraZoom = '9%';
var gAlturaZoomVar = '-29.3%';
var gLarguraZoomVar = '7.3%';
const cImagemVazia = 'Imagens/0000.png';
//const cImagemVazia = 'https://drive.google.com/thumbnail?id=1ylTHUEf086ASe5cOgMnPX-KPerFGgU4M';
	
	
// CARREGAR POKEDEX
function carregarPokedex(){
	gCartasAdicionadas = 0;

	if (localStorage.getItem(0) == null) {
		fetch('localStorage_vazio.txt')
		.then(response => response.json())
		.then(data => {			
			importarDados(data); // Work with the parsed data
		})
		.catch(error => {
			alert('Error fetching data: '+error);
		});
	}

	carregarConfiguracao();
	
	for (var i = 1; i <= localStorage.length; i++){
		try {
			let vItem = localStorage.getItem(i);
			// split do localStorage nao pode ser ,-:/\
			const aValores = vItem.split("|");

			if (aValores[5] == 'S') {
				if (aValores[1] != '0000') {
					gCartasAdicionadas = gCartasAdicionadas + 1;}
					
				carregarCarta(i, i, aValores[2], aValores[1] + aValores[7]);
				carregarVlrElementos(i, aValores);
			}
		}
		catch(err) {
		}
	}	
}

// 0_Disposicao | 1_Detalhamento | 2_Zoom
function carregarConfiguracao(){
	let vConf = localStorage.getItem(0);
	let aConf = vConf.split("|");
	
	document.getElementById("selDisposicao").value = aConf[0];
	document.getElementById("selDisposicao").setAttribute('value', aConf[0]);
	document.getElementById("selDetalhamento").value = aConf[1];
	document.getElementById("selDetalhamento").setAttribute('value', aConf[1]);
	document.getElementById("selZoom").value = aConf[2];
	document.getElementById("selZoom").setAttribute('value', aConf[2]);
	changeDisposicao(aConf[0]);
	changeDetalhamento(aConf[1]);
	changeZoom(aConf[2]);
}

function clickEdicaoVisualizacao(){
	if (document.getElementById("inp1").readOnly == false){
		document.getElementById("inp1").readOnly = true;
		document.getElementById("sel1").disabled = true;
		document.getElementById("ext1").disabled = true;
		alert("Campos bloqueados");
	} else {
		document.getElementById("inp1").readOnly = false;
		document.getElementById("sel1").disabled = false;
		document.getElementById("ext1").disabled = false;
		alert("Campos liberados");
	}
}

function clickDivFiltro(){
	alert("Em construção");
}

function clickConfig(){
	var painel = document.getElementById("toogleConfig");
	painel.classList.toggle('toggle');
}

function changeDetalhamento(pValue){
	//if ( pValue == oldpValue ){
	//	return; }
	
	var changeRuleFunc;
	if (pValue == "completo"){
		changeRuleFunc = function(rule){rule.style.height = "250px";};
		change_css_rules(changeRuleFunc, ['div.card']);
		changeRuleFunc = function(rule){rule.style.margin = "5px";};
		change_css_rules(changeRuleFunc, ['div.card-inner']);
		changeRuleFunc = function(rule){rule.style.margin = "16px 5px 5px 5px";};
		change_css_rules(changeRuleFunc, ['div.NovaVar']);
		changeRuleFunc = function(rule){rule.style.display = "flex";};
		change_css_rules(changeRuleFunc, ['.divTop','.divMid']);
		changeRuleFunc = function(rule){rule.style.display = "block";};
		change_css_rules(changeRuleFunc, ['.divBot']);
		changeRuleFunc = function(rule){rule.style.width = "140px";};
		change_css_rules(changeRuleFunc, ['img.card-avatar']);
		changeRuleFunc = function(rule){rule.style.width = "155px";};
		change_css_rules(changeRuleFunc, ['img.variacao']);
		changeRuleFunc = function(rule){rule.style.bottom = "22px";};
		change_css_rules(changeRuleFunc, ['.butVar']);
		gAlturaZoom = '-31.2%';
		gLarguraZoom = '9%';
		gAlturaZoomVar = '-29.3%';
		gLarguraZoomVar = '7.3%';
		changeRuleFunc = function(rule){rule.style.margin = "5px";};
		change_css_rules(changeRuleFunc, ['div.card']);
	} else {
		if (pValue == "minimo"){
			changeRuleFunc = function(rule){rule.style.height = "290px";};
			change_css_rules(changeRuleFunc, ['div.card']);
			changeRuleFunc = function(rule){rule.style.margin = "0";};
			change_css_rules(changeRuleFunc, ['div.card-inner','div.NovaVar']);
			changeRuleFunc = function(rule){rule.style.display = "none";};
			change_css_rules(changeRuleFunc, ['.divTop']);
			changeRuleFunc = function(rule){rule.style.display = "block";};
			change_css_rules(changeRuleFunc, ['.divBot']);
			changeRuleFunc = function(rule){rule.style.width = "100%";};
			change_css_rules(changeRuleFunc, ['img.card-avatar','img.variacao']);
			changeRuleFunc = function(rule){rule.style.bottom = "22px";};
			change_css_rules(changeRuleFunc, ['.butVar']);
			gAlturaZoom = '-24.3%';
			gLarguraZoom = '5%';
			gAlturaZoomVar = '-24.3%';
			gLarguraZoomVar = '5%';
			changeRuleFunc = function(rule){rule.style.margin = "10px";};
			change_css_rules(changeRuleFunc, ['div.card']);
		} else {
			changeRuleFunc = function(rule){rule.style.height = "268px";};
			change_css_rules(changeRuleFunc, ['div.card']);
			changeRuleFunc = function(rule){rule.style.margin = "0";};
			change_css_rules(changeRuleFunc, ['div.card-inner', 'div.NovaVar']);
			changeRuleFunc = function(rule){rule.style.display = "none";};
			change_css_rules(changeRuleFunc, ['.divTop','.divBot']);
			changeRuleFunc = function(rule){rule.style.width = "100%";};
			change_css_rules(changeRuleFunc, ['img.card-avatar','img.variacao']);
			changeRuleFunc = function(rule){rule.style.bottom = "0px";};
			change_css_rules(changeRuleFunc, ['.butVar']);
			gAlturaZoom = '-24.3%';
			gLarguraZoom = '5%';
			gAlturaZoomVar = '-24.3%';
			gLarguraZoomVar = '5%';
			changeRuleFunc = function(rule){rule.style.margin = "10px";};
			change_css_rules(changeRuleFunc, ['div.card']);
		}
	}
	
	let vConf = localStorage.getItem(0);
	let aConf = vConf.split("|");
	aConf[1] = pValue;
	localStorage.setItem(0, aConf.join('|'));
}

function changeDisposicao(pValue){
	if (pValue == 'linha'){
		gerarLinha();
	} else {
		gerar3x3();
	}
	
	let vConf = localStorage.getItem(0);
	let aConf = vConf.split("|");
	aConf[0] = pValue;
	localStorage.setItem(0, aConf.join('|'));
	
	/*else {
		document.getElementById("divFichario").style.display = "flex";
		document.getElementById("divLinha").style.display = "none";
	}*/
}

function changeZoom(pValue){
	
	gModoZoom = pValue;
	
	let vConf = localStorage.getItem(0);
	let aConf = vConf.split("|");
	aConf[2] = pValue;
	localStorage.setItem(0, aConf.join('|'));
}


// FUNCAO PARA GERAR ELEMENTOS (NAO MEXER)
function gerar(pDisposicao){

	function gerarPokemon(pRegiao, pInicial, pFinal){
		var vContador = 0;
		var element = document.getElementById('cen'+pRegiao);

		for (var i = pInicial; i <= pFinal; i++){
			let vItem = localStorage.getItem(i);
			// split do localStorage nao pode ser ,-:/\
			const vValores = vItem.split("|");
			
			if ( (pDisposicao == 'linha') && (vValores[1] == '0000')) {
				// NAO FAZ NADA
			} else {
				if (pDisposicao == '3x3') {
					if (vContador % 9 === 0){
						gContadorPagina = gContadorPagina + 1;
						if (gContadorPagina % 2 !== 0) {gContadorFolha = gContadorFolha + 1;}
						element.innerHTML = element.innerHTML + '<div class="pagina" id="pag'+gContadorPagina+'"><h4 class="paginaTitulo">Folha '+gContadorFolha+'</h4>\n\n</div>\n\n';
						element = document.getElementById('pag'+gContadorPagina);
					}
				}	
				
				gerarElementos(element, i, vValores);
				
				if (pDisposicao == '3x3') {
					if ((vContador+1) % 9 === 0){
						element = document.getElementById('cen'+pRegiao);
					}
				}

				if (vValores[5] == 'S') {
					gCartasAdicionadas = gCartasAdicionadas + 1;
					carregarCarta(i, i, vValores[2], vValores[1] + vValores[7]);
					carregarVlrElementos(i, vValores);
				}
				vContador = vContador + 1;
			}
		}
	}

	gContadorFolha = 0;
	gContadorPagina = 0;
	var divGeral = document.getElementById('divGeral');

	if (pDisposicao == 'linha') {
		divGeral.innerHTML = '\n\n<div class="list-container" id="kanto"><div id="titKanto"></div><center id="cenKanto">\n\n</center></div>';
	}
	else {
		divGeral.innerHTML = '\n\n<div class="list-container" id="kanto"><div id="titKanto"></div><center id="cenKanto"><div class="pagina"></div>\n\n</center></div>';
	}
	
	gerarPokemon('Kanto', 1, 153);
	
	divGeral.innerHTML = divGeral.innerHTML + '\n\n<div class="list-container" id="johto"><div id="titJohto"></div><center id="cenJohto">\n\n</center></div>';
	gerarPokemon('Johto', 154, 261);
	
	divGeral.innerHTML = divGeral.innerHTML + '\n\n<div class="list-container" id="hoenn"><div id="titHoenn"></div><center id="cenHoenn">\n\n</center></div>';
	gerarPokemon('Hoenn', 262, 423);
	
	divGeral.innerHTML = divGeral.innerHTML + '\n\n<div class="list-container" id="sinnoh"><div id="titSinnoh"></div><center id="cenSinnoh">\n\n</center></div>';
	gerarPokemon('Sinnoh', 424, 549);
	
	divGeral.innerHTML = divGeral.innerHTML + '\n\n<div class="list-container" id="unova"><div id="titUnova"></div><center id="cenUnova">\n\n</center></div>';
	gerarPokemon('Unova', 550, 729);
	
	divGeral.innerHTML = divGeral.innerHTML + '\n\n<div class="list-container" id="kalos"><div id="titKalos"></div><center id="cenKalos">\n\n</center></div>';
	gerarPokemon('Kalos', 730, 819);
	
	divGeral.innerHTML = divGeral.innerHTML + '\n\n<div class="list-container" id="megaevolucao"><div id="titMegaEvolucao"></div><center id="cenMegaEvolucao">\n\n</center></div>';
	gerarPokemon('MegaEvolucao', 820, 873);
	
	divGeral.innerHTML = divGeral.innerHTML + '\n\n<div class="list-container" id="alola"><div id="titAlola"></div><center id="cenAlola">\n\n</center></div>';
	gerarPokemon('Alola', 874, 981);
	
	divGeral.innerHTML = divGeral.innerHTML + '\n\n<div class="list-container" id="formasalola"><div id="titFormasAlola"></div><center id="cenFormasAlola">\n\n</center></div>';
	gerarPokemon('FormasAlola', 982, 999);
	
	divGeral.innerHTML = divGeral.innerHTML + '\n\n<div class="list-container" id="galar"><div id="titGalar"></div><center id="cenGalar">\n\n</center></div>';
	gerarPokemon('Galar', 1000, 1107);
	
	divGeral.innerHTML = divGeral.innerHTML + '\n\n<div class="list-container" id="formasgalar"><div id="titFormasGalar"></div><center id="cenFormasGalar">\n\n</center></div>';
	gerarPokemon('FormasGalar', 1108, 1125);
	
	divGeral.innerHTML = divGeral.innerHTML + '\n\n<div class="list-container" id="gigamax"><div id="titGigamax"></div><center id="cenGigamax">\n\n</center></div>';
	gerarPokemon('Gigamax', 1126, 1161);
	
	divGeral.innerHTML = divGeral.innerHTML + '\n\n<div class="list-container" id="hisui"><div id="titHisui"></div><center id="cenHisui">\n\n</center></div>';
	gerarPokemon('Hisui', 1162, 1179);
	
	divGeral.innerHTML = divGeral.innerHTML + '\n\n<div class="list-container" id="formashisui"><div id="titFormasHisui"></div><center id="cenFormasHisui">\n\n</center></div>';
	gerarPokemon('FormasHisui', 1180, 1197);
	
	divGeral.innerHTML = divGeral.innerHTML + '\n\n<div class="list-container" id="paldea"><div id="titPaldea"></div><center id="cenPaldea">\n\n</center></div>';
	gerarPokemon('Paldea', 1198, 1341);
	
	divGeral.innerHTML = divGeral.innerHTML + '\n\n<div class="list-container" id="formaspaldea"><div id="titFormasPaldea"></div><center id="cenFormasPaldea">\n\n</center></div>';
	gerarPokemon('FormasPaldea', 1342, 1350);
	
	var cenFormasPaldea = document.getElementById('cenFormasPaldea');
	
	if (pDisposicao == '3x3') {
		cenFormasPaldea.innerHTML = cenFormasPaldea.innerHTML + '<div class="pagina"></div>\n\n';}
	
	tratarTitulos(pDisposicao, true);
	//ajustarTamFonte();
}

//"xSequencial" : "0xNome|1xCodigo|2xNumeracao|3xRaridade|4xExtra|5xAdicionado|6xVariacoes|7xFormas" "0xRaridade;1xExtra;2Numeracao"
function gerarElementos(pElement, pSeq, pValores){
	var vCodigo = '';
	if (pValores[1] != '0000'){
		vCodigo = 'Nº '+pValores[1];}

	pElement.innerHTML = pElement.innerHTML + '<div class="card"><div class="card-inner"><div class="divTop" id="top'+pSeq+'" style="visibility: hidden;">'+pValores[0]+'<div class="num">'+vCodigo+'</div></div><div style="display: inline-block;"><img id="img'+pSeq+'" class="card-avatar" loading="lazy" src="'+cImagemVazia+'" onclick="clickPokemon(\''+pSeq+'\')" onmousemove="zoomIn(\''+pSeq+'\')" onmouseout="zoomOut(\''+pSeq+'\')"><img id="zoo'+pSeq+'" class="zoom"></div><div class="divMid" id="mid'+pSeq+'"><div class="num">'+vCodigo+'</div>'+pValores[0]+'</div><button type="button" id="but'+pSeq+'" class="butVar" style="padding:5px; visibility: hidden;" onclick="clickVariacao(\''+pSeq+'\'); blur();">+</button><div class="divBot"><input type="text" id="inp'+pSeq+'" class="inputA" value="'+pValores[2]+'" onchange="changeInp('+pSeq+', this.value)" onclick="select()"/><label id="lab'+pSeq+'" class="labelA"></label><select id="sel'+pSeq+'" class="selectA" onchange="changeSel('+pSeq+', this.value); blur();"><option value=""></option><option value="comum">Comum</option><option value="incomum">Incomum</option><option value="rara">Rara</option><option value="promocional">Promocional</option><option value="raradupla">Rara Dupla</option><option value="raraultra">Rara Ultra</option><option value="ilustracaorara">Ilustração Rara</option><option value="ilustracaoraraespecial">Ilustração Rara Especial</option><option value="rarasecreta">Rara Secreta</option></select><select id="ext'+pSeq+'" class="selectB" onchange="changeExt('+pSeq+', this); blur();"><option value=""></option><option value="normal">Normal</option><option value="foil">Foil</option><option value="reversefoil">Reverse Foil</option></select></div></div></div>\n\n';
}

function tratarTitulos(pDisposicao, pSeparar){
	if (pSeparar){
		if (pDisposicao == '3x3') {
			document.getElementById('titKanto').innerHTML = '<div class="title-wrap" id="I" style="margin-top: 30px;"><h2/><h2 class="title kanto">1ª Geração: Kanto</h2></div>'; }
		else {
			document.getElementById('titKanto').innerHTML = '<div class="title-wrap" id="I" style="margin-top: 30px;"><h2 class="title kanto">1ª Geração: Kanto</h2></div>'; }
			
		if (pDisposicao == '3x3') {
			document.getElementById('titJohto').innerHTML = '<div class="title-wrap" id="II" style="margin-top: 30px;"><h2/><h2 class="title johto">2ª Geração: Johto</h2></div>'; }
		else {
			document.getElementById('titJohto').innerHTML = '<div class="title-wrap" id="II" style="margin-top: 30px;"><h2 class="title johto">2ª Geração: Johto</h2></div>'; }
			
		if (pDisposicao == '3x3') {
			document.getElementById('titHoenn').innerHTML = '<div class="title-wrap" id="III" style="margin-top: 30px;"><h2/><h2 class="title hoenn">3ª Geração: Hoenn</h2></div>'; }
		else {
			document.getElementById('titHoenn').innerHTML = '<div class="title-wrap" id="III" style="margin-top: 30px;"><h2 class="title hoenn">3ª Geração: Hoenn</h2></div>'; }
		
		document.getElementById('titSinnoh').innerHTML = '<div class="title-wrap" id="IV" style="margin-top: 30px;"><h2 class="title sinnoh">4ª Geração: Sinnoh</h2></div>';
		document.getElementById('titUnova').innerHTML = '<div class="title-wrap" id="V" style="margin-top: 30px;"><h2 class="title unova">5ª Geração: Unova</h2></div>';
		
		if (pDisposicao == '3x3') {
			document.getElementById('titKalos').innerHTML = '<div class="title-wrap" id="VI" style="margin-top: 30px;"><h2/><h2 class="title kalos">6ª Geração: Kalos</h2></div>'; }
		else {
			document.getElementById('titKalos').innerHTML = '<div class="title-wrap" id="VI" style="margin-top: 30px;"><h2 class="title kalos">6ª Geração: Kalos</h2></div>'; }
		
		document.getElementById('titMegaEvolucao').innerHTML = '<div class="title-wrap" id="VI-" style="margin-top: 30px;"><h2 class="title kalos">6ª Geração: Mega Evolução</h2></div>';
		document.getElementById('titAlola').innerHTML = '<div class="title-wrap" id="VII" style="margin-top: 30px;"><h2 class="title alola">7ª Geração: Alola</h2></div>';
		document.getElementById('titFormasAlola').innerHTML = '<div class="title-wrap" id="VII-" style="margin-top: 30px;"><h2 class="title alola">7ª Geração: Formas de Alola</h2></div>';
		document.getElementById('titGalar').innerHTML = '<div class="title-wrap" id="VIII" style="margin-top: 30px;"><h2 class="title galar">8ª Geração: Galar</h2></div>';
		document.getElementById('titFormasGalar').innerHTML = '<div class="title-wrap" id="VIII-" style="margin-top: 30px;"><h2 class="title galar">8ª Geração: Formas de Galar</h2></div>';
		
		if (pDisposicao == '3x3') {
			document.getElementById('titGigamax').innerHTML = '<div class="title-wrap" id="VIII--" style="margin-top: 30px;"><h2/><h2 class="title galar">8ª Geração: Gigamax</h2></div>';}
		else {
			document.getElementById('titGigamax').innerHTML = '<div class="title-wrap" id="VIII--" style="margin-top: 30px;"><h2 class="title galar">8ª Geração: Gigamax</h2></div>';
		}
		
		if (pDisposicao == '3x3') {
			document.getElementById('titHisui').innerHTML = '<div class="title-wrap" id="H" style="margin-top: 30px;"><h2/><h2 class="title hisui">8ª Geração: Hisui</h2></div>'; }
		else {
			document.getElementById('titHisui').innerHTML = '<div class="title-wrap" id="H" style="margin-top: 30px;"><h2 class="title hisui">8ª Geração: Hisui</h2></div>'; }
		
		document.getElementById('titFormasHisui').innerHTML = '<div class="title-wrap" id="H-" style="margin-top: 30px;"><h2 class="title hisui">8ª Geração: Formas de Hisui</h2></div>';
		document.getElementById('titPaldea').innerHTML = '<div class="title-wrap" id="IX" style="margin-top: 30px;"><h2 class="title paldea">9ª Geração: Paldea</h2></div>';
		document.getElementById('titFormasPaldea').innerHTML = '<div class="title-wrap" id="IX" style="margin-top: 30px;"><h2 class="title paldea">9ª Geração: Formas de Paldea</h2></div>';
	} else {
		document.getElementById('titKanto').innerHTML = '';
		document.getElementById('titJohto').innerHTML = '';
		document.getElementById('titHoenn').innerHTML = '';
		document.getElementById('titSinnoh').innerHTML = '';
		document.getElementById('titUnova').innerHTML = '';
		document.getElementById('titKalos').innerHTML = '';
		document.getElementById('titAlola').innerHTML = '';
		document.getElementById('titFormasAlola').innerHTML = '';
		document.getElementById('titGalar').innerHTML = '';
		document.getElementById('titFormasGalar').innerHTML = '';
		document.getElementById('titHisui').innerHTML = '';
		document.getElementById('titFormasHisui').innerHTML = '';
		document.getElementById('titPaldea').innerHTML = '';
		document.getElementById('titFormasPaldea').innerHTML = '';
	}
}

function carregarCarta(pSeq, pIdElemento, pNumeracao, pCodigo) {
	if (pNumeracao == '') {
		carregarImagem(pSeq, pIdElemento, pCodigo, true);
		return;	
	}

	if (document.getElementById("top"+pIdElemento) != null){
		document.getElementById("top"+pIdElemento).style.visibility = "visible";}
	if (document.getElementById("mid"+pIdElemento) != null){
		document.getElementById("mid"+pIdElemento).style.display = "none";}
	if (document.getElementById("but"+pIdElemento) != null){
		document.getElementById("but"+pIdElemento).style.visibility = "visible";}
		
	if (pIdElemento.toString().includes("var")){
		document.getElementById("img"+pIdElemento).style.top = "0px";}

	let aValoresInput = pNumeracao.split("/");
	var vCodigoTratado = zeroEsquerda(aValoresInput[0], 3);	
	var vEdicaoTratada = zeroEsquerda(aValoresInput[1], 3);
	
	switch(vEdicaoTratada) {
		// Promocional
		case 'SVP':
			document.getElementById('img'+pIdElemento).src = 'https://assets.tcgdex.net/pt/sv/svp/'+vCodigoTratado+'/high.webp';
			break;
		// Escarleta e Violeta
		case '198':
			document.getElementById('img'+pIdElemento).src = 'https://assets.tcgdex.net/pt/sv/sv01/'+vCodigoTratado+'/high.webp';
			//document.getElementById('img'+pIdElemento).src = 'https://dz3we2x72f7ol.cloudfront.net/expansions/scarlet-violet/pt-br/SV01_PTBR_'+vCodigoTratado+'.png';
			break;
		// Evoluções em Paldea
        case '193':
			document.getElementById('img'+pIdElemento).src = 'https://assets.tcgdex.net/pt/sv/sv02/'+vCodigoTratado+'/high.webp';
			//document.getElementById('img'+pIdElemento).src = 'https://dz3we2x72f7ol.cloudfront.net/expansions/paldea-evolved/pt-br/SV02_PTBR_'+vCodigoTratado+'.png';
			break;
		// Obsidiana em Chamas
		case '197':
			document.getElementById('img'+pIdElemento).src = 'https://assets.tcgdex.net/pt/sv/sv03/'+vCodigoTratado+'/high.webp';
			//document.getElementById('img'+pIdElemento).src = 'https://dz3we2x72f7ol.cloudfront.net/expansions/obsidian-flames/pt-br/SV03_PTBR_'+vCodigoTratado+'.png';
			break;
		// 151
		case '165':
			document.getElementById('img'+pIdElemento).src = 'https://assets.tcgdex.net/pt/sv/sv03.5/'+vCodigoTratado+'/high.webp';
			//document.getElementById('img'+pIdElemento).src = 'https://dz3we2x72f7ol.cloudfront.net/expansions/151/pt-br/SV3pt5_PTBR_'+vCodigoTratado+'.png';
			break;
		// Fenda Paradoxal
		case '182':
			document.getElementById('img'+pIdElemento).src = 'https://assets.tcgdex.net/pt/sv/sv04/'+vCodigoTratado+'/high.webp';
			//document.getElementById('img'+pIdElemento).src = 'https://dz3we2x72f7ol.cloudfront.net/expansions/paradox-rift/pt-br/SV04_PTBR_'+vCodigoTratado+'.png';
			break; 
		// Destinos de Paldea
		case '091':
			document.getElementById('img'+pIdElemento).src = 'https://assets.tcgdex.net/pt/sv/sv04.5/'+vCodigoTratado+'/high.webp';
			//document.getElementById('img'+pIdElemento).src = 'https://dz3we2x72f7ol.cloudfront.net/expansions/paldean-fates/pt-br/SV4pt5_PTBR_'+vCodigoTratado+'.png';
			break;
		// Forças Temporais
		case '162':
			document.getElementById('img'+pIdElemento).src = 'https://assets.tcgdex.net/pt/sv/sv05/'+vCodigoTratado+'/high.webp';
			//document.getElementById('img'+pIdElemento).src = 'https://dz3we2x72f7ol.cloudfront.net/expansions/temporal-forces/pt-br/SV05_PTBR_'+vCodigoTratado+'.png';
			break;
		// Máscaras do Crepúsculo
		case '167':
			document.getElementById('img'+pIdElemento).src = 'https://assets.tcgdex.net/pt/sv/sv06/'+vCodigoTratado+'/high.webp';
			//document.getElementById('img'+pIdElemento).src = 'https://dz3we2x72f7ol.cloudfront.net/expansions/twilight-masquerade/pt-br/SV06_PTBR_'+vCodigoTratado+'.png';
			break;
		// Fábulas Nebulosas
		case '064':
			document.getElementById('img'+pIdElemento).src = 'https://assets.tcgdex.net/pt/sv/sv06.5/'+vCodigoTratado+'/high.webp';
			//document.getElementById('img'+pIdElemento).src = 'https://dz3we2x72f7ol.cloudfront.net/expansions/shrouded-fable/pt-br/SV6pt5_PTBR_'+vCodigoTratado+'.png';
			break;
		// Coroa Estelar
		case '142':
			document.getElementById('img'+pIdElemento).src = 'https://assets.tcgdex.net/pt/sv/sv07/'+vCodigoTratado+'/high.webp';
			//document.getElementById('img'+pIdElemento).src = 'https://dz3we2x72f7ol.cloudfront.net/expansions/stellar-crown/pt-br/SV07_PTBR_'+vCodigoTratado+'.png';
			break;
		// Fagulhas Impetuosas
		case '191':
			document.getElementById('img'+pIdElemento).src = 'https://assets.tcgdex.net/pt/sv/sv08/'+vCodigoTratado+'/high.webp';
			//document.getElementById('img'+pIdElemento).src = 'https://dz3we2x72f7ol.cloudfront.net/expansions/surging-sparks/pt-br/SV08_PTBR_'+vCodigoTratado+'.png';
			break;
		// Evoluções Prismáticas
        case '131':
			document.getElementById('img'+pIdElemento).src = 'https://assets.tcgdex.net/pt/sv/sv08.5/'+vCodigoTratado+'/high.webp';
			break;
		// Amigos de Jornada
        case '159':
			document.getElementById('img'+pIdElemento).src = 'https://assets.tcgdex.net/pt/sv/sv09/'+vCodigoTratado+'/high.webp';
			break;
		// Rivais Predestinados
        case '182':
			document.getElementById('img'+pIdElemento).src = 'https://assets.tcgdex.net/pt/sv/sv10/'+vCodigoTratado+'/high.webp';
			break;
		// Raio Preto
        case '086b':
			document.getElementById('img'+pIdElemento).src = 'https://assets.tcgdex.net/pt/sv/sv10.5b/'+vCodigoTratado+'/high.webp';
			break;
		// Fogo Branco
        case '086w':
			document.getElementById('img'+pIdElemento).src = 'https://assets.tcgdex.net/pt/sv/sv10.5w/'+vCodigoTratado+'/high.webp';
			break;

		default:
			carregarImagem(pSeq, pIdElemento, pCodigo, true);
	}
}

function carregarImagem(pSeq, pIdElemento, pCodigo, pCarregar) {
	if (document.getElementById("top"+pIdElemento) != null){
		document.getElementById("top"+pIdElemento).style.visibility = "hidden";}
	if (document.getElementById("mid"+pIdElemento) != null){
		document.getElementById("mid"+pIdElemento).style.display = "flex";}
	if (document.getElementById("but"+pIdElemento) != null){
		document.getElementById("but"+pIdElemento).style.visibility = "hidden";}

	let vImagemElemento = document.getElementById('img'+pIdElemento);
	
	if ( !Boolean(pCarregar) ) {
		vImagemElemento.src = cImagemVazia;
		return;
	}
	
	if (pIdElemento.toString().includes("var")){
		vImagemElemento.style.top = "35px";}

	if (pCodigo == '0000') {
		vImagemElemento.src = 'Imagens/reservado.png';}
	else {	
		vImagemElemento.src = 'Imagens/Pokemon/'+pCodigo+'.png';}
}


// CLICKS AND CHANGES
function clickPokemon(pSeq) {
    var vItem = localStorage.getItem(pSeq); 
	var vValores = vItem.split("|");
	
	if (vValores[2] != '') {
		return;
	}
	
	/*if ((vValores[1] == '0000') && (vValores[5] == 'N')) {
		return;
	}*/

	if (vValores[5] == 'N') {
		adicionarPokemon(pSeq, vValores);
	} else {
		removerPokemon(pSeq, vValores);
	}	
}

function adicionarPokemon(pSeq, pValores){
	if (pValores[1] != '0000') {
		gCartasAdicionadas = gCartasAdicionadas + 1;}
		
	pValores[5] = 'S';
	
	localStorage.setItem(pSeq, pValores.join('|'));
	
	carregarCarta(pSeq, pSeq, pValores[2], pValores[1] + pValores[7]);
}

function alterarPokemon(pSeq, pValores){
	if (pValores[5] == 'N') {
		adicionarPokemon(pSeq, pValores);
	} else {
		localStorage.setItem(pSeq, pValores.join('|'));
		carregarCarta(pSeq, pSeq, pValores[2], pValores[1] + pValores[7]);
	}
}

function removerPokemon(pSeq, pValores){
	zoomOut(pSeq);
	pValores[5] = 'N';
	pValores[2] = '';
	pValores[3] = '';
	pValores[4] = '';	
	removerVlrElementos(pSeq);
	carregarImagem(pSeq, pSeq, '', false);
	if (pValores[1] != '0000') {
		gCartasAdicionadas = gCartasAdicionadas - 1;}
		
	localStorage.setItem(pSeq, pValores.join('|'));
}

function carregarVlrElementos(pSeq, pValores){
	
	document.getElementById("inp"+pSeq).value = pValores[2];

	let vSelect = document.getElementById("sel"+pSeq);
	vSelect.value = pValores[3];
	vSelect.options[vSelect.options.selectedIndex].setAttribute('selected', 'true');

	let vExtra = document.getElementById("ext"+pSeq);
	vExtra.value = pValores[4];
	vExtra.options[vExtra.options.selectedIndex].setAttribute('selected', 'true');
	
	carregarRaridade(pSeq, pValores[3]);
}

function removerVlrElementos(pSeq) {
	document.getElementById("inp"+pSeq).value = "";
	document.getElementById("ext"+pSeq).value = "";
	document.getElementById("sel"+pSeq).value = "";
	document.getElementById("lab"+pSeq).innerHTML = "";
}

function changeInp(pSeq, pValue) {
	var vItem = localStorage.getItem(pSeq); 
	var vValores = vItem.split("|");
	
	if (pValue == '') {
		removerVlrElementos(pSeq);
		vValores[2] = '';
		vValores[3] = '';
		vValores[4] = '';
	} else {
		vValores[2] = pValue;}
	
	alterarPokemon(pSeq, vValores);
}	

function changeExt(pSeq, pExt) {
	var vItem = localStorage.getItem(pSeq); 
	var vValores = vItem.split("|");
	
	vValores[4] = pExt.value;
	localStorage.setItem(pSeq, vValores.join('|'));
	
	if (pExt.value == '') {
		document.getElementById('sel'+pSeq).style.display = "inline-block";
		pExt.style.display = "none";
	}
}

function changeSel(pSeq, pSelValue) {
	carregarRaridade(pSeq, pSelValue);

	let vItem = localStorage.getItem(pSeq); 
	let vValores = vItem.split("|");
	
	vValores[3] = pSelValue;
	alterarPokemon(pSeq, vValores);
}

//   ●♦★✩    🌟⭐◆ ⯁ ⬥ ⬤
function carregarRaridade(pSeq, pRaridade) {
	switch(pRaridade) {
		case 'comum':
			document.getElementById('lab'+pSeq).innerHTML = "<div style='font-size:10px; line-height: 0.8;'>⬤</div>";
			document.getElementById('ext'+pSeq).style.display = "inline-block";
			document.getElementById('sel'+pSeq).style.display = "none";
			break;
		case 'incomum':
			document.getElementById('lab'+pSeq).innerHTML = "<div style='font-size:14px; line-height: 0.7;'>⯁</div>";
			document.getElementById('ext'+pSeq).style.display = "inline-block";
			document.getElementById('sel'+pSeq).style.display = "none";
			break;
		case 'rara':
			document.getElementById('lab'+pSeq).innerHTML = "★";
			document.getElementById('ext'+pSeq).style.display = "inline-block";
			document.getElementById('sel'+pSeq).style.display = "none";
			break;
		case 'promocional':
			document.getElementById('lab'+pSeq).innerHTML = "✩";
			document.getElementById('ext'+pSeq).value = "";
			
			break;
		case 'raradupla':
			document.getElementById('lab'+pSeq).innerHTML = "★★";
			document.getElementById('ext'+pSeq).value = "";
			break;
		case 'raraultra':
			document.getElementById('lab'+pSeq).innerHTML = "<div style='color:#A7A9AD;'>★★</div>";
			document.getElementById('ext'+pSeq).value = "";
			break;
		case 'ilustracaorara':
			document.getElementById('lab'+pSeq).innerHTML = "<div style='color:#FCB912;'>★</div>";
			document.getElementById('ext'+pSeq).value = "";
			break;
		case 'ilustracaoraraespecial':
			document.getElementById('lab'+pSeq).innerHTML = "<div style='color:#FCB912;'>★★</div>";
			document.getElementById('ext'+pSeq).value = "";
			break;
		case 'rarasecreta':
			document.getElementById('lab'+pSeq).innerHTML = "<div style='width: 23px; position: relative; top: -4px; color:#FCB912;'>★<br>★★</div>";
			document.getElementById('ext'+pSeq).value = "";
			break;

		default:
			document.getElementById("lab"+pSeq).innerHTML = "";
	}
}

function zoomIn(pSeq) {
	var xAltura = gAlturaZoom;
	var xLargura = gLarguraZoom;
	
	if (gModoZoom == 'duplicar') {
		let vWindowWidth = window.innerWidth;
		let vImgRigth = document.getElementById("img"+pSeq).getBoundingClientRect().right;
		let vEspaco = vWindowWidth - vImgRigth;
		
		//if (vEspaco < 450|760) {
		if (vEspaco < 700) {
			if (document.getElementById('selDetalhamento').value == 'completo') {
				xLargura = '-145%';
			} else {
				xLargura = '-155%';
			}
		}
	}
	
	zoomInNucleo(pSeq, xAltura, xLargura);
}

function zoomInVar(pSeq) {
	var xAltura = gAlturaZoomVar;
	var xLargura = gLarguraZoomVar;
	
	if (gModoZoom == 'duplicar') {
		let vWindowWidth = window.innerWidth;
		let vImgRigth = document.getElementById("img"+pSeq).getBoundingClientRect().right;
		let vEspaco = vWindowWidth - vImgRigth;
		
		//if (vEspaco < 450|760) {
		if (vEspaco < 700) {
			if (document.getElementById('selDetalhamento').value == 'completo') {
				xLargura = '-147%';
			} else {
				xLargura = '-155%';
			}
		}
	}
	
	zoomInNucleo(pSeq, xAltura, xLargura);
}

function zoomInNucleo(pSeq, pAltura, pLargura) {
	
	if (document.getElementById("top"+pSeq).style.visibility == "hidden") {
		return;
	}

	if (gModoZoom == 'duplicar') {
		var element = document.getElementById("zoo"+pSeq);
		element.src = document.getElementById("img"+pSeq).src;
		element.style.maxWidth = "200%";
		element.style.display = "inline-block";
		
		element.style.transform = "translate("+pLargura+", "+pAltura+")";
		
	} else {
		var element = document.getElementById("img"+pSeq);
		element.style.zIndex = "99";
		element.style.transform = "scale(2)";
	}
}

function zoomOut(pSeq) {
	if (document.getElementById("top"+pSeq) != null){
		if (document.getElementById("top"+pSeq).style.visibility == "hidden") {
			return; }
	}
		
	if (gModoZoom == 'duplicar') {
		var element = document.getElementById("zoo"+pSeq);
		element.style.display = "none";
	} else {
		var element = document.getElementById("img"+pSeq);
		element.style.zIndex = "0";
		element.style.transform = "scale(1)";
	}
}

// VARIACOES
function clickVariacao(pSeq){
	gQtdVariacoes = 0;
	var vbutRect = document.getElementById("but"+pSeq).getBoundingClientRect().top;
	var vbodyRect = document.body.getBoundingClientRect().top;
	var vResult = vbutRect - vbodyRect - 25;
	document.getElementById("divVariacao").style.top = vResult+'px';
	
	var divVariacao = document.getElementById('divVariacao');	
	if (divVariacao.style.display != 'block'){
		divVariacao.style.display = "block";}
	
	var vItem = localStorage.getItem(pSeq);
	var aValores = vItem.split("|");
	var aVariacoes = aValores[6].split(";");
	var aVariacao = ''; 
	var vSeqVar = '';

	divVariacao.innerHTML = '<h4 style="margin: 0 0 10px 0;">Variações</h4><button class="butFechar" onclick="fecharVariacao(\''+pSeq+'\'); blur();">❌</button>';
	for (var i = 0; i < aVariacoes.length; i++){
		if (aVariacoes[i] != ''){
			aVariacao = aVariacoes[i].split("_");
			
			vSeqVar = pSeq+'var'+gQtdVariacoes;
			
			gerarVariacao(divVariacao, pSeq, aVariacao[0]);

			if (aVariacao[0] != '') {
				carregarCarta(pSeq, vSeqVar, aVariacao[0], aValores[1] + aValores[7]);}

			carregarVlrElementosVar(vSeqVar, aVariacao);
			
			gQtdVariacoes = gQtdVariacoes + 1;
		}
	}

	divVariacao.innerHTML = divVariacao.innerHTML + '<div class="card divMais" id="divVarMais" onclick="adicionarVar(\''+pSeq+'\')"><img class="imgMais" src="Imagens/mais.png"></img></div>';
}

function fecharVariacao(pSeq){
	var vItem = localStorage.getItem(pSeq); 
	var aValores = vItem.split("|");
	var aVariacoes = aValores[6].split(";");
	var aVariacao;
	var aVariacoesNew = [];
	
	for (var i = 0; i < aVariacoes.length; i++){
		aVariacao = aVariacoes[i].split("_");
		
		if (aVariacao[0] != '') {
			aVariacoesNew.push(aVariacao.join('_'));}
	}

	aValores[6] = aVariacoesNew.join(';');	

	localStorage.setItem(pSeq, aValores.join('|'));
	document.getElementById('divVariacao').style.display = "none";
}

// "0xRaridade;1xExtra;2Numeracao"
function gerarVariacao(pElement, pSeq, pNumeracao){
	var vSeqVar = pSeq+'var'+gQtdVariacoes;
	pElement.innerHTML = pElement.innerHTML + '<div class="card"><div class="card-inner NovaVar"><div id="top'+vSeqVar+'" style="visibility: hidden;"></div><div style="display: inline-block;"><img id="img'+vSeqVar+'" class="card-avatar variacao" loading="lazy" src="'+cImagemVazia+'" onmousemove="zoomInVar(\''+vSeqVar+'\')" onmouseout="zoomOut(\''+vSeqVar+'\')"><img id="zoo'+vSeqVar+'" class="zoom"></div><div class="divBot"><input type="text" id="inp'+vSeqVar+'" class="inputA varInp" value="'+pNumeracao+'" onchange="changeInpVar(\''+pSeq+'\', \''+gQtdVariacoes+'\', this.value)" onclick="select()"/><label id="lab'+vSeqVar+'" class="labelA varInp"></label><select id="sel'+vSeqVar+'" class="selectA varSel" onchange="changeSelVar(\''+pSeq+'\', \''+gQtdVariacoes+'\', this.value); blur()"><option value=""></option><option value="comum">Comum</option><option value="incomum">Incomum</option><option value="rara">Rara</option><option value="promocional">Promocional</option><option value="raradupla">Rara Dupla</option><option value="raraultra">Rara Ultra</option><option value="ilustracaorara">Ilustração Rara</option><option value="ilustracaoraraespecial">Ilustração Rara Especial</option><option value="rarasecreta">Rara Secreta</option></select><select id="ext'+vSeqVar+'" class="selectB varSel" onchange="changeExtVar(\''+pSeq+'\', \''+gQtdVariacoes+'\', this); blur()"><option value=""></option><option value="normal">Normal</option><option value="foil">Foil</option><option value="reversefoil">Reverse Foil</option></select></div></div></div>';
}

function adicionarVar(pSeq){
	var divVariacao = document.getElementById('divVariacao');

	document.getElementById('divVarMais').remove();
	gerarVariacao(divVariacao, pSeq, '');
	
	var vItem = localStorage.getItem(pSeq); 
	var aValores = vItem.split("|");
	var aVariacoes = aValores[6].split(";");
	
	if (aVariacoes == "") {
		aVariacoes = "__";
	} else {
		aVariacoes.push("__");
		aValores[6] = aVariacoes.join(';');
	}

	localStorage.setItem(pSeq, aValores.join('|'));
	
	gQtdVariacoes = gQtdVariacoes + 1;
	
	divVariacao.innerHTML = divVariacao.innerHTML + '<div class="card divMais" id="divVarMais" onclick="adicionarVar(\''+pSeq+'\')"><img class="imgMais" src="Imagens/mais.png"></img></div>';
}

function changeInpVar(pSeq, pIndVar, pValue) {
	var pSeqVar = pSeq+'var'+pIndVar;
	var vItem = localStorage.getItem(pSeq); 
	var aValores = vItem.split("|");

	var aVariacoes = aValores[6].split(";");

	if (aVariacoes[pIndVar] == null){
		return;}
	var aVariacao = aVariacoes[pIndVar].split("_");
	
	if (pValue == ''){
		removerVlrElementosVar(pSeq, pSeqVar, aVariacao);
	} else {
		aVariacao[0] = pValue;
		document.getElementById("inp"+pSeqVar).setAttribute('value', pValue);
		aVariacao[1] = '';
		aVariacao[2] = '';
		document.getElementById("sel"+pSeqVar).setAttribute('value', "");
		document.getElementById("ext"+pSeqVar).setAttribute('value', "");
		document.getElementById("lab"+pSeqVar).innerHTML = "";
		carregarCarta(pSeq, pSeqVar, aVariacao[0], aValores[1] + aValores[7]);
	}
	aVariacoes[pIndVar] = aVariacao.join('_');
	aValores[6] = aVariacoes.join(';');
	
	localStorage.setItem(pSeq, aValores.join('|'));
}

function changeExtVar(pSeq, pIndVar, pExtVar) {
	let vSeqVar = pSeq+'var'+pIndVar;
	let vExtra = document.getElementById("ext"+vSeqVar);
	vExtra.setAttribute('value', pExtVar.value);
	vExtra.options[vExtra.options.selectedIndex].setAttribute('selected', 'true');
	
	var vItem = localStorage.getItem(pSeq); 
	var aValores = vItem.split("|");
	var aVariacoes = aValores[6].split(";");
	var aVariacao = aVariacoes[pIndVar].split("_");
	
	aVariacao[2] = pExtVar.value;
	aVariacoes[pIndVar] = aVariacao.join('_');	
	aValores[6] = aVariacoes.join(';');
	
	localStorage.setItem(pSeq, aValores.join('|'));
	
	if (pExtVar.value == '') {
		document.getElementById('sel'+vSeqVar).style.display = "inline-block";
		pExtVar.style.display = "none";
	}
}

function changeSelVar(pSeq, pIndVar, pValue) {
	let vSeqVar = pSeq+'var'+pIndVar;
	carregarRaridade(vSeqVar, pValue);
	
	let vSelect = document.getElementById("sel"+vSeqVar);
	vSelect.setAttribute('value', pValue);
	vSelect.options[vSelect.options.selectedIndex].setAttribute('selected', 'true');
	
	var vItem = localStorage.getItem(pSeq); 
	var aValores = vItem.split("|");
	var aVariacoes = aValores[6].split(";");
	var aVariacao = aVariacoes[pIndVar].split("_");
	
	aVariacao[1] = pValue;
	aVariacoes[pIndVar] = aVariacao.join('_');	
	aValores[6] = aVariacoes.join(';');
	
	localStorage.setItem(pSeq, aValores.join('|'));
	
	
}

function carregarVlrElementosVar(pSeqVar, pVariacao){
	let vSelect = document.getElementById("sel"+pSeqVar);
		vSelect.value = pVariacao[1];
		vSelect.setAttribute('value', pVariacao[1]);
		vSelect.options[vSelect.options.selectedIndex].setAttribute('selected', 'true');
	
	let vExtra = document.getElementById("ext"+pSeqVar);
		vExtra.value = pVariacao[2];
		vExtra.setAttribute('value', pVariacao[2]);
		vExtra.options[vExtra.options.selectedIndex].setAttribute('selected', 'true');
	
	carregarRaridade(pSeqVar, pVariacao[1]);
}

function removerVlrElementosVar(pSeq, pSeqVar, pVariacao){
	zoomOut(pSeqVar);
	pVariacao[0] = "";
	pVariacao[1] = "";
	pVariacao[2] = "";

	let vInput = document.getElementById("inp"+pSeqVar);
		vInput.value = "";
		vInput.setAttribute("value", "");
	let vSelect = document.getElementById("sel"+pSeqVar);
		vSelect.value = "";
		vSelect.setAttribute("value", "");
	let vExtra = document.getElementById("ext"+pSeqVar);
		vExtra.value = "";
		vExtra.setAttribute("value", "");
	document.getElementById("lab"+pSeqVar).innerHTML = "";

	carregarImagem(pSeq, pSeqVar, '', false);
}

function ajustarTamFonte(){
	var i = 0;
	
	let aTamFonte11 = [1038, 1201, 1202];
	for (i = 0; i < aTamFonte11.length; i++){
		//document.getElementById('mid'+aTamFonte11[i]).style.fontSize = "11px";
		document.getElementById('top'+aTamFonte11[i]).style.fontSize = "11px";}
	
	let aTamFonte12 = [1036, 1140, 1141, 1220];
	for (i = 0; i < aTamFonte12.length; i++){
		//document.getElementById('mid'+aTamFonte12[i]).style.fontSize = "12px";
		document.getElementById('top'+aTamFonte12[i]).style.fontSize = "12px";}
		
	let aTamFonte13 = [715, 717, 721, 1089, 1138, 1139, 1252, 1253];
	for (i = 0; i < aTamFonte13.length; i++){
		//document.getElementById('mid'+aTamFonte13[i]).style.fontSize = "13px";
		document.getElementById('top'+aTamFonte13[i]).style.fontSize = "13px";}
		
	let aTamFonte14 = [376, 455, 1039, 1131, 1240, 1254];
	for (i = 0; i < aTamFonte14.length; i++){
		//document.getElementById('mid'+aTamFonte14[i]).style.fontSize = "14px";
		document.getElementById('top'+aTamFonte14[i]).style.fontSize = "14px";}
		
	let aTamFonte15 = [454, 456, 528, 611, 718, 911, 1051, 1239, 1241, 1249];
	for (i = 0; i < aTamFonte15.length; i++){
		//document.getElementById('mid'+aTamFonte15[i]).style.fontSize = "15px";
		document.getElementById('top'+aTamFonte15[i]).style.fontSize = "15px";}
}


// LOCAL STORAGE
function clickDlgBackup(pAcao){
	if (typeof(Storage) == "undefined") {
		alert("Sorry, your browser does not support Web Storage...");
		return;
	}
	
	if (pAcao == 'Importar'){
		document.getElementById('dlgTitle').textContent = 'Importar';
		
		document.getElementById('btnImportarGitHub').hidden = false;
		document.getElementById('btnImportarTxt').hidden = false;
		document.getElementById('btnExportarGitHub').hidden = true;
		document.getElementById('btnExportarJSON').hidden = true;
		
		dlgBackup.showModal();
		
	} else {	
		if (pAcao == 'Exportar'){
			document.getElementById('dlgTitle').textContent = 'Exportar';
			
			document.getElementById('btnExportarGitHub').hidden = false;
			document.getElementById('btnExportarJSON').hidden = false;
			document.getElementById('btnImportarGitHub').hidden = true;
			document.getElementById('btnImportarTxt').hidden = true;
			
			dlgBackup.showModal();
			
		}
	}
}

function clickImportarOld(){
	
	if (typeof(Storage) == "undefined") {
		alert("Sorry, your browser does not support Web Storage...");
		return;
	}
	
	var data = prompt("Digite os dados do LocalStorage: ");
	data = JSON.parse(data);
	importarDados(data);
	
	document.getElementById("bImportar").blur();
};

function clickImportarGitHub(){
	fetch('localStorage.json')
	.then(response => response.json())
	.then(data => {			
		importarDados(data);
	})
	.catch(error => {
		alert('Error fetching data: '+error);
	});
}

function clickImportarJSON(){
	document.getElementById('input-file').click();
};

function tratarInputFile(pInput){
	const file = pInput.files[0]; // Pega o primeiro arquivo selecionado
	tratarTxt(file);
}

function tratarTxt(pFile){
	const reader = new FileReader();

	reader.onload = (e) => {
		// O conteúdo do arquivo está em e.target.result
		importarDados(JSON.parse(e.target.result));
	};

	// Inicia a leitura do arquivo como texto
	reader.readAsText(pFile);
}

function importarDados(pDados){
	if (pDados == null) {
		return;	}
		
	localStorage.clear();
	Object.keys(pDados).forEach(function (k) {
		localStorage.setItem(k, pDados[k]);
	})
	
	alert('Dados importados com sucesso.');
	window.location.reload();
}

function clickExportarJSON() {
	if (typeof(Storage) == "undefined") {
		alert("Sorry, your browser does not support Web Storage...");
		return;
	}
	
	download('localStorage.json', JSON.stringify(localStorage));
	
	
	//*pedir se vai exportar pra area ou pro github:
	
	
	// se exportar pra area:
	//	navigator.clipboard.writeText(JSON.stringify(localStorage));
	
	// se exportar pro github:
		
	
	
	//alert("LocalStorage copiado com sucesso!");
	//document.getElementById("bExportar").blur();
}

function download(filename, text){
	const a = document.createElement('a');
	a.href = URL.createObjectURL(new Blob([text],{type:'application/octet-stream'}));
	a.download = filename; 
	a.click(); 
	URL.revokeObjectURL(a.href);
}

function clickContador() { 
	// 1350 contando com os reservados
	var qtdFaltante = 1253 - gCartasAdicionadas;
	
	alert('Cartas adicionadas: '+ gCartasAdicionadas +'\n'+'Cartas faltantes: '+qtdFaltante);
	document.getElementById("bContador").blur();
}


// AUXILIARES
function zeroEsquerda(pValor, pQtd) {
  const resto = pQtd - String(pValor).length;
  return '0'.repeat(resto > 0 ? resto : '0') + pValor;
}

function change_css_rules(changeRuleFunc, selectorFunc) {
    [].concat.apply([], // flattens arrays
        Array.from(document.styleSheets).map(function(sheet) { // each ss
            return Array.from(sheet.cssRules).filter(function(rule) { // each rule
				return selectorFunc.includes(rule.selectorText);
            });
        })
    ).map(changeRuleFunc); // change the selected rules
}

/*
FUNCAO ORIGINAL
// general function for selecting rules and applying changes
function change_css_rules(changeRuleFunc, selectorFunc) {
    [].concat.apply([], // flattens arrays
        Array.from(document.styleSheets).map(function(sheet) { // each ss
            return Array.from(sheet.cssRules).filter(function(rule) { // each rule
                return selectorFunc(rule); // only select desired rules
            });
        })
    ).map(changeRuleFunc); // change the selected rules
}
Example use:
var my_changeRuleFunc = function(rule) {
    rule.style.fontSize = '20px';
}
var my_selectorFunc = function(rule) {
    return rule.selectorText == '.myClass'; // return true to select this rule
}
change_css_rules(my_changeRuleFunc, my_selectorFunc); // apply change to selected rules

	if ([0, 9, 18].includes(i)){
	
	window.getComputedStyle(painel, null).display == "flex"
*/

</script>

<script type="text/javascript" src="3x3.js"> </script>
<script type="text/javascript" src="linha.js"> </script>


</body></html>